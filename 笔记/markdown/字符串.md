# 字符串



1.字符串可以像数组一样，利用下标来获取字符。

```php
$str = 'hello';
echo $str[2] ;   //l
$str[2] = 'world';
echo $str  //hewlo 
    
```

2.可以使用{}进行变量的解析

```php
"hello {$world}"
```



### 函数



对于处理中文有专门的函数（Multibyte String Functions 多字节字符串）

mb_substr()

#### 字符串输出函数

 

```php
	echo() 输出字符串（可以是多个）
    print() 输出一个字符串
    exit() 输出一条消息，并退出当前脚本
    printf() 输出格式化字符串
    sprintf() 把格式化的字符串写入一个变量中
  	sprintf('%.2f',  $price)  //保留两位小数
     
     //字符串转换格式：
        %%  返回百分号
        %b   二进制数
        %c   依照ASCII值的字符
        %d   带符号十进制数
        %e   可续计数法（如1.5e3）
        %u   无符号十进制数
        %f或%F   浮点数
        %o     八进制
        %s      字符串
        %x     十六进制数
附加的格式值。必需放置在 % 和字母之间（例如 %.2f）：

+ （在数字前面加上 + 或 - 来定义数字的正负性。默认情况下，只有负数才做标记，正数不做标记）
' （规定使用什么作为填充，默认是空格。它必须与宽度指定器一起使用。例如：%'x20s（使用 "x" 作为填充））
- （左调整变量值）
[0-9] （规定变量值的最小宽度）
.[0-9] （规定小数位数或最大字符串长度）
    
```

#### 字符串格式化函数

1.过滤掉特定字符

 trim ($str,'')  //删除特定字符，默认去除空格

2.填充

str_pad() 按需求对字符串进行填充，默认添加空格

3.大小写转换

strtolower()     全部小写字符串

strtoupper()   全部变大写字符串

ucfirst()           首字母大写

ucwords     每一个字的字母都大写

4.和HTML标签相关联的字符串格式化

htmlspecialchars() --将特殊字符转换为HTML实体，将script原样输出

strip_tags — 从字符串中去除 HTML 和 PHP 标记，默认删除全部html标记



5.颠倒字符串

strrev()

6获取字符串长度

strlen()

7.number_format() 

格式化货币，数字，时间

8.加密

md5()

#### 字符串比较函数

1.==

2.strcmp      区分大小写

strcasecmp 不区分大小写

3.strnatcmp 按自然顺序比较

strnatcasecmp      不区分大小写



查找

strstr($email ,'@')   返回@之后的字符

strstr($email ,'@',true)  返回@之前的字符

strpos($email ,'@')    查找字符串首次出现的位置，如果只是确定是否存在，使用strpos





#### 分割

函数

explode()         implode()--join()

正则

preg_split()







替换

函数

str_replace()

正则

preg_replace()



#### 匹配查找

字符串函数

strstr           返回查找字符之后的

strpos           ===false

substr      返回字符串的子串 

正则匹配查找

 preg_match 

  preg_match_all

 preg_grep()    从数组中匹配符合的字符，返回符合的字符的数组



# 正则表达式



定界符：多种都可以 ，常用 //

原子 ： 不可分割的特殊字符，最小的一个匹配单位（放在界定符中）

元字符：不能单独使用，修饰原子，是用来扩展原子功能的和限定功能（放在界定符中）

模式修正符合：修正，对模式（正则）修正（写在界定符外面）



### 原子

1.普通字符最为原子 ： 如 a-z  A-Z 0~9

2.一些特殊字符和转义后元字符作为原子：

-所以标点符号，但语句特殊意义的符合需要转义后才可作为原子，如：\\*,\\',\\?

3.一些非打印字符作为原子：如 \f\n \r\t 

4.使用“通用字符类型”作为原子：如 \d \D \w \W \s \S

5.自定义原子表([])作为原子：如'/[[api]]/'

6..代表任意字符

\d   任意一个数字

\D  任意一个非数字

\w    代表任意一个字   (a-z  A-Z 0~9 _)

\W     代表任意一个非字 

\s     代表空白     \n \t\f\v

\S    代表非空白

### 元字符

* \*  可以修饰前面的原子出现0次 1次或者多次  {0,}
* \+   可以修饰前面的原子出现1次或者多次 ，也就是必须出现1次以上 {1,}
* ？  可以修饰前面的原子出现0次或在1次 {0,1}
* {n}   只能出现n次，不能多也不能少
* {n,m}  出现n,和m之间，包括n和m次
* {n,}  至少出现n次，可以更多
* | 表示或 ，但是优先级最低，应该匹配长元素
* ^ 和\A表示必须以什么开始
* $ 和 \Z表示必须以什么结束
* \b 匹配单词          this  is island         /\bis\b/ 只匹配中间的is
* \B 匹配非单词   this  is island   /\Bis\b/只匹配左边的this
* ()

()的作用，

- 改变优先级
-  将小原子，变成大原子（mysql）*
- 子模式，小括号中式独立的子模式，preg_match($preg,$str,$arr)  $arr会返回 每个独立的子模式
-  反向引用



.*? 取消贪婪模式

.+？取消贪婪模式

### 模式修正符（单个字符）

1.模式修正符要写在定界符号外，放在右边

2.模式修正符，一个字符就是一个功能，可以组合使用

作用：模式修正符可以修正正则表达式的解释，或扩充正则表达式的功能



- i  忽略大小写    ''/test/i

- m  在使用^和$这两个符号时，每一行满足都可以

  $str=' this is 

   abc   world';             

  $preg  = '^abc';

- ​    s 修正 .可以匹配换行符（默认.不能匹配回车符号）
-  x    修正正则表达式，可以省略空白
- e  

