# 文件核心

- 文件和文件系统
- 文本文件和二进制文件
- 文件的打开方式
- 文件的顺序存取和随机存取
- php中的XML、JSON、CSV操作要点
- php中与文件操作相关的封装协议
- php 大文件上传的原理和实现



文件定义：存储在某种设备中的一段数据流。

文本文件：基于字符编码的文件

二进制文件：除文本文件之外的文件称为二进制文件

二进制文件编码是变长的，灵活利用率高

二者读写差别仅体现在回车换行符的处理上

文本文件是一种特殊的“二进制文件”









fopen  还能打开什么？

- fopen('php://stdout','w');
- file:// 访问本地文件系统
- http:// 访问http(s)网址
- ftp://  访问FTP(s)URLs
- php:// 访问各个输入/输出流(I/0 streams)
- zlib:// 压缩流
- http://php.net/manual/zh/wrappers.php



php://stdin   PHP 进程(终端)相应的输入流      

php://stdout     PHP 进程(终端)相应的输出流

```php
$fp1 = fopen('php://stdin','r');
echo fgets($fp1);
可以简写成 fgets(STDIN)
    
$fp2 = fopen('php://stdout','w');
echo fputs($fp2);
可以简写成 fputs(STDOUT)   
    

```



如何实现超大文件上传

- 客户端控件：需要本地安装指定控件，然后1M1M的拼接上传
- 采用 swfUpload 、uploadify 等flash 组件，和客户端类型1M1M上传
- 用 ajax 实现大文件上传和断点续传



ajax2.0的新特性

- 可以上传文件
- 可以设置HTTP请求的时限
- 可以使用FormData 对象管理表单数据
- 可以请求不同域名下的数据（跨域请求）
- 可以获取服务器端的二进制数据
- 可以获得数据传输的进度信息



